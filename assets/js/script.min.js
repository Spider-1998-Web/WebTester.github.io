document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("loader"),t=0;window.addEventListener("load",function(){e&&(e.style.display="none"),window.AOS&&(AOS.init({duration:800,once:!0,offset:100}),AOS.refresh())});let l=document.getElementById("mobile-toggle"),s=document.getElementById("nav-menu");l&&s&&l.addEventListener("click",()=>{l.classList.toggle("active"),s.classList.toggle("active")}),document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",e=>{l&&l.classList.remove("active"),s&&s.classList.remove("active")})});let a=document.getElementById("header");a&&window.addEventListener("scroll",()=>{a.classList.toggle("scrolled",window.scrollY>100)});let o=document.querySelectorAll(".filter-btn"),i=document.querySelectorAll(".portfolio-item");o.length&&i.length&&o.forEach(e=>{e.addEventListener("click",function(){o.forEach(e=>e.classList.remove("active")),this.classList.add("active");let e=this.getAttribute("data-filter");i.forEach(t=>{"all"===e||t.dataset.category===e?(t.style.display="block",t.classList.add("fade-in")):(t.style.display="none",t.classList.remove("fade-in"))}),window.AOS&&AOS.refresh()})});let n=document.getElementById("lightbox"),r=document.getElementById("lightbox-content"),c=document.getElementById("lightbox-close");function d(){if(!n)return;n.classList.remove("active");let e=r.querySelector(".lightbox-video");e&&e.pause(),document.body.classList.remove("no-scroll"),document.body.style.top="","number"==typeof t&&window.scrollTo({top:t,behavior:"instant"})}i.length&&i.forEach(e=>{e.addEventListener("click",l=>{l.preventDefault(),function e(l){t=window.pageYOffset||document.documentElement.scrollTop||0,document.body.style.top=`-${t}px`,document.body.classList.add("no-scroll"),r.innerHTML="";let s=l.getAttribute("data-video-src");if(s){let a=document.createElement("video");a.className="lightbox-video",a.controls=!0,a.autoplay=!0;let o=document.createElement("source");o.src=s,o.type="video/mp4",a.appendChild(o),r.appendChild(a)}else{let i=l.querySelector("img");if(i){let c=document.createElement("img");c.src=i.dataset.src||i.src,c.className="lightbox-image",r.appendChild(c)}}n&&n.classList.add("active")}(e)})}),c&&(c.type="button",c.addEventListener("click",d)),n&&n.addEventListener("click",e=>{e.target===n&&d()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&d()});let g=document.getElementById("back-to-top");g&&(window.addEventListener("scroll",()=>{g.classList.toggle("visible",window.scrollY>500)}),g.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));let v=document.querySelector(".contact-form");v&&v.addEventListener("submit",e=>{e.preventDefault(),alert("Thank you! We will get back to you soon."),v.reset()});let y=document.querySelectorAll("img[data-src]");if(y.length){let f=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let l=e.target;l.src=l.dataset.src,l.classList.add("fade-in"),t.unobserve(l)}})},{rootMargin:"50px 0px",threshold:.1});y.forEach(e=>{e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",f.observe(e)})}});